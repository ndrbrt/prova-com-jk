<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Cultures & Codes - Blogging about design, cognition and stuffs</title>
    <meta name="description" content="Cultures & Codes, Blogging about design, epistemology and stuffs" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
    <!-- Customisation  -->
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />

</head>
<body class="home-template">

    <header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        <a class="back-button icon-arrow-left" href="/">Home</a>
        <a class="subscribe-button icon-feed" href="/feed.xml">Subscribe</a>
    </nav>
</header>

<main class="content" role="main">

    <article class="post">

        <header class="post-header">
            <h1 class="post-title">Why the rich get richer</h1>
            <section class="post-meta">
                <time class="post-date" datetime="2016-10-30">30 Oct 2016</time>
                
                    on python
                
            </section>
        </header>

<!--         <header class="post-header">
            <a id="blog-logo" href="http://localhost:4000">
                
                    <span class="blog-title">Cultures & Codes</span>
                
            </a>
        </header> -->

        <!-- <span class="post-meta">
            <time datetime="2016-10-30">30 Oct 2016</time>
            
                on python
            
        </span> -->

        <!-- <h1 class="post-title">Why the rich get richer</h1> -->

        <section class="post-content">
            <h2 id="playing-with-python-and-preferential-attachment">playing with python and preferential attachment</h2>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span> <span class="k">as</span> <span class="n">cnt</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span><span class="p">,</span> <span class="n">style</span>

<span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100000</span><span class="p">)]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000000</span><span class="p">):</span>
	<span class="n">t</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>

<span class="n">cnt</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="p">[(</span><span class="mi">35405</span><span class="p">,</span> <span class="mi">127</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">87426</span><span class="p">,</span> <span class="mi">112</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">11934</span><span class="p">,</span> <span class="mi">109</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">12113</span><span class="p">,</span> <span class="mi">102</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">24741</span><span class="p">,</span> <span class="mi">102</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">68938</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">28292</span><span class="p">,</span> <span class="mi">99</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">84278</span><span class="p">,</span> <span class="mi">99</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">29760</span><span class="p">,</span> <span class="mi">98</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">74719</span><span class="p">,</span> <span class="mi">98</span><span class="p">)]</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">y</span> <span class="o">=</span> <span class="n">cnt</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
<span class="n">y</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">y</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
<span class="p">[</span><span class="mi">127</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span> <span class="mi">109</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">98</span><span class="p">,</span> <span class="mi">98</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="s">&#39;ro&#39;</span><span class="p">)</span>
<span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s">&#39;ggplot&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">margins</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></code></pre></figure>

<p><img src="pref-att.png" alt="Graph 1" />
We now try to reduce the population to 1000 instead of 100K</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">t2</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">)]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000000</span><span class="p">):</span>
	<span class="n">t2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">t2</span><span class="p">))</span>

<span class="n">cnt</span><span class="p">(</span><span class="n">t2</span><span class="p">)</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="p">[(</span><span class="mi">52</span><span class="p">,</span> <span class="mi">5768</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">859</span><span class="p">,</span> <span class="mi">5648</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">535</span><span class="p">,</span> <span class="mi">5565</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">45</span><span class="p">,</span> <span class="mi">5564</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">471</span><span class="p">,</span> <span class="mi">5477</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">229</span><span class="p">,</span> <span class="mi">5327</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">234</span><span class="p">,</span> <span class="mi">5275</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">322</span><span class="p">,</span> <span class="mi">5206</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">796</span><span class="p">,</span> <span class="mi">4498</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">172</span><span class="p">,</span> <span class="mi">4385</span><span class="p">)]</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">y2</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">cnt</span><span class="p">(</span><span class="n">t2</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">(),</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">y2</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
<span class="p">[</span><span class="mi">5768</span><span class="p">,</span> <span class="mi">5648</span><span class="p">,</span> <span class="mi">5565</span><span class="p">,</span> <span class="mi">5564</span><span class="p">,</span> <span class="mi">5477</span><span class="p">,</span> <span class="mi">5327</span><span class="p">,</span> <span class="mi">5275</span><span class="p">,</span> <span class="mi">5206</span><span class="p">,</span> <span class="mi">4498</span><span class="p">,</span> <span class="mi">4385</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y2</span><span class="p">,</span> <span class="s">&#39;ro&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">margins</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">t3</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">)]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000000</span><span class="p">):</span>
	<span class="n">t3</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">t3</span><span class="p">))</span>

<span class="n">cnt</span><span class="p">(</span><span class="n">t3</span><span class="p">)</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="p">[(</span><span class="mi">782</span><span class="p">,</span> <span class="mi">77225</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">469</span><span class="p">,</span> <span class="mi">70673</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">771</span><span class="p">,</span> <span class="mi">56912</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">931</span><span class="p">,</span> <span class="mi">51606</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">805</span><span class="p">,</span> <span class="mi">50369</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">714</span><span class="p">,</span> <span class="mi">47219</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">84</span><span class="p">,</span> <span class="mi">46978</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">363</span><span class="p">,</span> <span class="mi">45574</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">439</span><span class="p">,</span> <span class="mi">45291</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">606</span><span class="p">,</span> <span class="mi">44881</span><span class="p">)]</span>
 
<span class="n">y3</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">cnt</span><span class="p">(</span><span class="n">t3</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">(),</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">y3</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
<span class="p">[</span><span class="mi">77225</span><span class="p">,</span> <span class="mi">70673</span><span class="p">,</span> <span class="mi">56912</span><span class="p">,</span> <span class="mi">51606</span><span class="p">,</span> <span class="mi">50369</span><span class="p">,</span> <span class="mi">47219</span><span class="p">,</span> <span class="mi">46978</span><span class="p">,</span> <span class="mi">45574</span><span class="p">,</span> <span class="mi">45291</span><span class="p">,</span> <span class="mi">44881</span><span class="p">]</span>

<span class="n">z</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1000.0</span><span class="o">/</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">101</span><span class="p">)]</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">[{</span><span class="s">&#39;t&#39;</span><span class="p">:</span> <span class="n">t</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">:</span> <span class="n">y</span><span class="p">},</span> <span class="p">{</span><span class="s">&#39;t2&#39;</span><span class="p">:</span> <span class="n">t2</span><span class="p">,</span> <span class="s">&#39;y2&#39;</span><span class="p">:</span> <span class="n">y2</span><span class="p">},</span> <span class="p">{</span><span class="s">&#39;t3&#39;</span><span class="p">:</span> <span class="n">t3</span><span class="p">,</span> <span class="s">&#39;y3&#39;</span><span class="p">:</span> <span class="n">y3</span><span class="p">}]</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;pref-att.json&#39;</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
	<span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">outfile</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;pref-att.json&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">data_file</span><span class="p">:</span>
	<span class="n">prova</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">data_file</span><span class="p">)</span>

<span class="n">prova</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s">&#39;y2&#39;</span><span class="p">][:</span><span class="mi">10</span><span class="p">]</span>
<span class="p">[</span><span class="mi">5768</span><span class="p">,</span> <span class="mi">5648</span><span class="p">,</span> <span class="mi">5565</span><span class="p">,</span> <span class="mi">5564</span><span class="p">,</span> <span class="mi">5477</span><span class="p">,</span> <span class="mi">5327</span><span class="p">,</span> <span class="mi">5275</span><span class="p">,</span> <span class="mi">5206</span><span class="p">,</span> <span class="mi">4498</span><span class="p">,</span> <span class="mi">4385</span><span class="p">]</span></code></pre></figure>

        </section>

        

        <footer class="post-footer">
            <!-- If we want to display author's name and bio -->
            

            <!-- Share links section -->
            <section class="share">
    <h4>Share this post</h4>
    <a class="icon-twitter" href="http://twitter.com/share?text=Why the rich get richer&amp;url=https://ndrbrt.github.io/prova-com-jk/python/2016/10/30/pref-att.html"
        onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
        <span class="hidden">Twitter</span>
    </a>
    <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://ndrbrt.github.io/prova-com-jk/python/2016/10/30/pref-att.html"
        onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
        <span class="hidden">Facebook</span>
    </a>
    <a class="icon-google-plus" href="https://plus.google.com/share?url=https://ndrbrt.github.io/prova-com-jk/python/2016/10/30/pref-att.html"
       onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
        <span class="hidden">Google+</span>
    </a>
</section>

            <!-- Disqus comments -->
            

        </footer>

    </article>

</main>

    <footer class="site-footer clearfix">
      <section class="copyright">
        <a href="">Cultures & Codes</a> &copy; 
               &bull; All rights reserved.
      </section>
      <section class="poweredby">Made with Jekyll using 
        <a href="http://github.com/rosario/kasper">Kasper theme</a>
      </section>
    </footer>
    
    <script type="text/javascript" src="/assets/js/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/index.js"></script>

    <!-- Google Analytics Tracking code -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-XXXXXXXX-X']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>   
</body>
</html>
